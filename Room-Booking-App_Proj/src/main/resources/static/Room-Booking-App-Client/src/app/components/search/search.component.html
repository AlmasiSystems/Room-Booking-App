<div class = 'container'>
  <div class = 'row'>

    <div class = 'col-md-4'>
      <form (ngSubmit) = 'onSearch()'>
        <div class = 'row'>
          <label>
            Start Date
            <input type="datetime-local" 
                    class = 'form-control'
                    name="startDate" value="2019-00-00T00:00"
                    min="0000-00-00T00:00"
                    [(ngModel)] = 'startDate'>
          </label>
        </div>
        <div class = 'row'>
          <label>
            End Date
            <input type="datetime-local" 
                    class = 'form-control'
                    name="endDate" value="2019-00-00T00:00"
                    min="0000-00-00T00:00" [(ngModel)] = 'endDate'>
          </label>     
        </div>
        <div class = 'row'>     
          <label>
              Rating
              <select class = 'form-control' name = 'rating' [(ngModel)] = 'rating'>
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
              </select>
            </label>         
        </div>
        <div class = 'row'>
          <label>
            Room Capacity (# people) (minimum)
            <input class = 'form-control' min = 0 type = 'number' name = 'roomCapacity' [(ngModel)] = 'roomCapacity'>
          </label>
        </div>
        <div class = 'row'>
          <label>
            Area (ft^2) (minimum)
            <input class = 'form-control' min = 0 type = 'number' name = 'area' [(ngModel)] = 'area'>
          </label>
        </div>
        <div class = 'row'>
          <label>
            Price ($) (maximum)
            <input class = 'form-control' min = 0 type = 'number' name = 'price' [(ngModel)] = 'price'>
          </label>
        </div>
        <div class = 'row'>
          <button type = 'submit' class = 'btn btn-primary'>Search</button>
        </div>
      </form>
    </div>

    <div class = 'col-md-8'>
      <table class = 'table table-striped'>
        <thead>
          <th>Hotel Chain</th>
          <th>Address</th>
          <th>Room Number</th>
          <th>View Type</th>
          <th>Capacity</th>
          <th>Price ($ CAD)</th>
          <th>Area (ft^2)</th>
          <th></th>
        </thead>
        <tbody>
          <tr *ngFor = 'let room of rooms'>
            <td>{{room.hotel.hotelChain.hcName}}</td>
            <td>{{room.hotel.getAddress()}}</td>
            <td>{{room.roomNumber}}</td>
            <td>{{room.viewType}}</td>
            <td>{{room.capacity}}</td>
            <td>${{room.price}} CAD</td>
            <td>{{room.area}}</td>
            <td>
              <button type = 'button' class = 'btn btn-primary' (click) = 'open(booking, room)'>Book</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

  </div>
</div>

<ng-template #booking let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Book Room</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <h6>Customer Information</h6>
    <form (ngSubmit) = 'onSearch()'>
        <div class = 'row'>
          <label>
            SIN 
            <input type = 'text' class = 'form-control' name = 'sin' [(ngModel)] = 'customer.sin'>
          </label>
        </div>
        <div class = 'row'>
          <label>
            Given Name
            <input type = 'text' class = 'form-control' name = 'givenName' [(ngModel)] = 'customer.givenName'>
          </label>     
        </div>
        <div class = 'row'>     
          <label>
              Family name
              <input type = 'text' class = ' form-control' name = 'familyName' [(ngModel)] = 'customer.familyName'>
            </label>         
        </div>
        <div class = 'row'>
          <label>
            Street Name
            <input type = 'text' class = 'form-control' name = 'streetName' [(ngModel)] = 'customer.streetName'>
          </label>
        </div>
        <div class = 'row'>
          <label>
            Street Number
            <input type = 'number' min = 0 class = 'form-control' name = 'streetNumber' [(ngModel)] = 'customer.streetNumber'>
          </label>
        </div>
        <div class = 'row'>
          <label>
            City
            <input type = 'text' class = 'form-control' name = 'city' [(ngModel)] ='customer.city'>
          </label>
        </div>
        <div class = 'row'>
          <label>
            State
            <input type = 'text' maxlength = 2 class = 'form-control' name = 'state' [(ngModel)] ='customer.state'>
          </label>
        </div>
        <div class = 'row'>
          <label>
            Country
            <input type = 'text' maxlength = 2 class = 'form-control' name = 'country' [(ngModel)] ='customer.country'>
          </label>
        </div>
      </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="bookRoom(modal)">Book</button>
  </div>
</ng-template>
  
